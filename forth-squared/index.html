<html>
  <head>
    <meta charset="utf-8" />
    <script src="./libwabt.js"></script>
    <script src="./index.js" type="module"></script>
    <style>
      #palette {
        display: flex;
        flex-wrap: wrap;
        gap: 5px;
        width: 175px;
      }

      #palette div {
        width: 40px;
        height: 40px;
      }
    </style>
  </head>
  <body>
    <h3>Colours</h3>
    <p>
      Forth Squared has a 16 colour palette, taken from
      <a href="https://alumni.media.mit.edu/~wad/color/palette.html"
        >An Optimum 16 Color Palette</a
      >.
    </p>
    <div id="palette"></div>
    <h3>Memory map</h3>
    <p>Forth Squared has 64 KB of memory.</p>
    <pre>
      0000 version
      0002 pointer to source
      0004 pointer to heap
      0006 asm
      ssss source
      hhhh heap (word dictionary)
      7FFF stack (data stack and call stack)
      8000 screen memory (32 KB)
    </pre>
    <ul>
      <li>
        The asm provides the Forth runtime in whatever form the implementation
        host uses, but usually it is binary code
      </li>
      <li>The source is ascii encoded text.</li>
      <li>
        The data stack is empty-ascending and initialised to just after the
        source.
      </li>
      <li>The call stack is full-descending and initialised to 0x8000.</li>
      <li>The screen memory is 32Kb</li>
    </ul>
    <script type="module">
      // https://ditherit.com/
      // [{"hex":"#000000"},{"hex":"#575757"},{"hex":"#a0a0a0"},{"hex":"#ffffff"},{"hex":"#2a4bd7"},{"hex":"#1d6914"},{"hex":"#814a19"},{"hex":"#8126c0"},{"hex":"#9dafff"},{"hex":"#81c57a"},{"hex":"#e9debb"},{"hex":"#ad2323"},{"hex":"#29d0d0"},{"hex":"#ffee33"},{"hex":"#ff9233"},{"hex":"#ffcdf3"}]

      const palette = {
        Black: "#000000",
        "Dk. Gray": "#575757",
        "Lt. Gray": "#a0a0a0",
        White: "#ffffff",

        Blue: "#2a4bd7",
        Green: "#1d6914",
        Brown: "#814a19",
        Purple: "#8126c0",

        "Lt. Blue": "#9dafff",
        "Lt. Green": "#81c57a",
        Tan: "#e9debb",
        Red: "#ad2323",

        Cyan: "#29d0d0",
        Yellow: "#ffee33",
        Orange: "#ff9233",
        Pink: "#ffcdf3",
      }

      for (const [name, hex] of Object.entries(palette)) {
        const div = document.createElement("div")
        div.style.backgroundColor = hex
        div.title = name
        document.getElementById("palette").appendChild(div)
      }
    </script>
  </body>
</html>
